<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DnD Battle Tracker</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>‚öîÔ∏è</text></svg>">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Almendra:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
</head>
<body id="main-bg">
    <div class="overlay"></div>
    
    <nav class="main-nav">
    <button onclick="switchTab('battle')">‚öîÔ∏è –ë–æ–π</button>
    <button class="add-quick-btn" onclick="quickAddUnit()" title="–ë—ã—Å—Ç—Ä–æ –¥–æ–±–∞–≤–∏—Ç—å —é–Ω–∏—Ç–∞">+</button>
    <button onclick="switchTab('settings')">üìú –ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
    <button class="danger-btn" onclick="clearAllCombatants()" title="–£–¥–∞–ª–∏—Ç—å –≤—Å–µ—Ö">üßπ –û—á–∏—Å—Ç–∏—Ç—å –ø–æ–ª–µ</button>
    <button class="danger-btn" onclick="finishBattle()" title="–£–¥–∞–ª–∏—Ç—å —Ç–æ–ª—å–∫–æ –º–æ–Ω—Å—Ç—Ä–æ–≤">‚öîÔ∏è –ó–∞–≤–µ—Ä—à–∏—Ç—å –±–æ–π</button>
</nav>

    <main id="battle-tab" class="tab-content active">
    <div class="battle-layout">
        <div class="combat-column">
            <h2 class="column-title">–û—á–µ—Ä–µ–¥—å –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤—ã</h2>
            <div id="character-list"></div>
        </div>

        <div id="info-panel" class="info-column">
            <div class="info-header">
                <span id="info-title">–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫</span>
                <button onclick="closeInfoPanel()" class="close-panel-btn">√ó</button>
            </div>
            <div id="info-content">
                <iframe id="info-frame" src="about:blank"></iframe>
            </div>
        </div>
    </div>
</main>

    <main id="settings-tab" class="tab-content">
    <div class="settings-container">
        
        <h2 class="settings-group-title">üõ°Ô∏è –û—Ç—Ä—è–¥ –ì–µ—Ä–æ–µ–≤</h2>
        <div class="config-row">
            <div class="config-card hero-section flex-1">
                <h3>–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ì–µ—Ä–æ–µ–≤</h3>
                <input type="text" id="hero-search" placeholder="–ü–æ–∏—Å–∫ –≥–µ—Ä–æ—è..." oninput="filterHeroes()">
                <div id="hero-library-list" class="library-list"></div>
            </div>
            <div class="config-card hero-section flex-1">
                <h3>–ü—Ä–∏–∑–≤–∞—Ç—å –Ω–æ–≤–æ–≥–æ (JSON)</h3>
                <input type="file" id="import-json" accept=".json">
                <button onclick="importCharacter()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –ø—Ä–∏–∑–≤–∞—Ç—å</button>
            </div>
        </div>

        <h2 class="settings-group-title">üëæ –ë–µ—Å—Ç–∏–∞—Ä–∏–π</h2>
        <div class="config-row">
            <div class="config-card monster-section flex-1">
                <h3>–°–ø–∏—Å–æ–∫ –ß—É–¥–æ–≤–∏—â</h3>
                <input type="text" id="monster-search" placeholder="–ü–æ–∏—Å–∫ –º–æ–Ω—Å—Ç—Ä–∞..." oninput="filterMonsters()">
                <div id="monster-library-list" class="library-list"></div>
            </div>
            <div class="config-card monster-section flex-1">
                <h3>–°–æ–∑–¥–∞—Ç—å –º–æ–Ω—Å—Ç—Ä–∞</h3>
                <input type="text" id="monster-name" placeholder="–ò–º—è">
                <div style="display: flex; gap: 5px;">
                    <input type="text" id="monster-hp" placeholder="–•–∏—Ç—ã">
                    <input type="text" id="monster-ac" placeholder="–ö–î">
                </div>
                <input type="text" id="monster-img" placeholder="–°—Å—ã–ª–∫–∞ –Ω–∞ —Ñ–æ—Ç–æ">
                <small>–ò–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç—å JSON:</small>
                <input type="file" id="monster-json" accept=".json">
                <button onclick="addMonsterManual()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –±–µ—Å—Ç–∏–∞—Ä–∏–π</button>
            </div>
        </div>

        <h2 class="settings-group-title">‚öôÔ∏è –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</h2>
        <div class="config-row">
            <div class="config-card utility-section">
                <h3>–ê—Ç–º–æ—Å—Ñ–µ—Ä–∞</h3>
                <label>–§–æ–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:</label>
                <input type="file" id="bg-upload" onchange="changeBackground(event)">
            </div>
            <div class="config-card utility-section">
                <h3>–≠–∫—Å–ø–æ—Ä—Ç/–ò–º–ø–æ—Ä—Ç —Å–µ—Å—Å–∏–∏</h3>
                <p><small>–°–∫–æ—Ä–æ –∑–¥–µ—Å—å –º–æ–∂–Ω–æ –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤–µ—Å—å —Ç–µ–∫—É—â–∏–π –±–æ–π –≤ —Ñ–∞–π–ª.</small></p>
            </div>
        </div>

    </div>
</main>

    <script src="script.js"></script>
</body>
</html>















